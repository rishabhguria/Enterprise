<?xml version="1.0"?>

<!DOCTYPE Config SYSTEM "../../../../dtds/CameronConfig.dtd">

<Config>
	<Application id="buy">
		<Logger class="com.cameronsystems.util.logger.Log4JLoggerFactory">
			<log4j:configuration>
				<appender name="STDOUT" class="org.apache.log4j.ConsoleAppender">
					<layout class="org.apache.log4j.PatternLayout">
						<param name="ConversionPattern" value="%d{Absolute} %-5p %c{2} - %m%n"/>
					</layout>
					<filter class="org.apache.log4j.varia.LevelRangeFilter">
						<param name="LevelMin" value="INFO"/>
						<param name="LevelMax" value="FATAL"/>
						<param name="AcceptOnMatch" value="true"/>
					</filter>
				</appender>
				<appender name="AllFixLog" class="org.apache.log4j.FileAppender">
					<param name="File" value="AllFixLog.log"/>
					<layout class="org.apache.log4j.PatternLayout">
						<param name="ConversionPattern" value="%d %-5p %c{2} - %m%n"/>
					</layout>
					<filter class="org.apache.log4j.varia.LevelRangeFilter">
						<param name="LevelMin" value="INFO"/>
						<param name="LevelMax" value="FATAL"/>
						<param name="AcceptOnMatch" value="true"/>
					</filter>
				</appender>
				<root>
					<priority value="debug"/>
					<appender-ref ref="STDOUT"/>
					<appender-ref ref="AllFixLog"/>
				</root>
			</log4j:configuration>
		</Logger>
		<Parties>
			<Party compid="DropCopy">
				<Session fixversion="4.2" heartbeat="80" compid="SendToDropCopy">
					<Persister>
						<LimitedMemoryFilePersister baselogfile="logs/buy"/>
					</Persister>
				</Session>
				<Connections>
					<SocketConnection listenport="2006"/>
				</Connections>
				<SessionManager>
					<SourceMessageProcessors>
						<SourceMessageBuffer id="DropCopyOutMessageBuffer" buffer="buffers/DropCopyOutBuffer">
							<SocketAdapter id="socket_adapter7005" port="7005" ackTimeout="0" alwaysUseMsgId="false" ></SocketAdapter>
						</SourceMessageBuffer>
					</SourceMessageProcessors>
					<ListenerMessageProcessors>
						<ListenerMessageBuffer id="DropCopyInMessageBuffer" buffer="buffers/DropCopyInBuffer">
							<SocketAdapter id="socket_adapter7005" port="7005" ackTimeout="0" alwaysUseMsgId="false" ></SocketAdapter>
						</ListenerMessageBuffer>
						<SampleMessageListener/>
					</ListenerMessageProcessors>
				</SessionManager>
			</Party>

			<Party compid="MS">
				<Session fixversion="4.2" heartbeat="80" compid="SendToMS">
					<Persister>
						<LimitedMemoryFilePersister baselogfile="logs/buy"/>
					</Persister>
				</Session>
				<Connections>
					<SocketConnection hostname="localhost" port="2000" />
				</Connections>
				<SessionManager>
					<SourceMessageProcessors>
						<SourceMessageBuffer id="SendToMSOutMessageBuffer" buffer="buffers/SendToMSOutBuffer">
							<SocketAdapter id="socket_adapter7000" port="7000" ackTimeout="0" alwaysUseMsgId="false" ></SocketAdapter>
						</SourceMessageBuffer>
					</SourceMessageProcessors>
					<ListenerMessageProcessors>
						<ListenerMessageBuffer id="SendToMSInMessageBuffer" buffer="buffers/SendToMSInBuffer">
							<SocketAdapter id="socket_adapter7000" port="7000" ackTimeout="0" alwaysUseMsgId="false" ></SocketAdapter>
						</ListenerMessageBuffer>
						<SampleMessageListener/>
					</ListenerMessageProcessors>
				</SessionManager>
			</Party>

			<Party compid="GS">
				<Session fixversion="4.2" heartbeat="80" compid="SendToGS">
					<Persister>
						<LimitedMemoryFilePersister baselogfile="logs/buy"/>
					</Persister>
				</Session>
				<Connections>
					<SocketConnection hostname="localhost" port="2001" />
				</Connections>
				<SessionManager>
					<SourceMessageProcessors>
						<SourceMessageBuffer id="SendToGSOutMessageBuffer" buffer="buffers/SendToGSOutBuffer">
							<SocketAdapter id="socket_adapter7001" port="7001" ackTimeout="0" alwaysUseMsgId="false" ></SocketAdapter>
						</SourceMessageBuffer>
					</SourceMessageProcessors>
					<ListenerMessageProcessors>
						<ListenerMessageBuffer id="SendToGSInMessageBuffer" buffer="buffers/SendToGSInBuffer">
							<SocketAdapter id="socket_adapter7001" port="7001" ackTimeout="0" alwaysUseMsgId="false" ></SocketAdapter>
						</ListenerMessageBuffer>
						<SampleMessageListener/>
					</ListenerMessageProcessors>
				</SessionManager>
			</Party>

			<Party compid="CSFB">
				<Session fixversion="4.2" heartbeat="80" compid="SendToCSFB">
					<Persister>
						<LimitedMemoryFilePersister baselogfile="logs/buy"/>
					</Persister>
				</Session>
				<Connections>
					<SocketConnection hostname="localhost" port="2002" />
				</Connections>
				<SessionManager>
					<SourceMessageProcessors>
						<SourceMessageBuffer id="SendToCSFBOutMessageBuffer" buffer="buffers/SendToCSFBOutBuffer">
							<SocketAdapter id="socket_adapter7002" port="7002" ackTimeout="0" alwaysUseMsgId="false" ></SocketAdapter>
						</SourceMessageBuffer>
					</SourceMessageProcessors>
					<ListenerMessageProcessors>
						<ListenerMessageBuffer id="SendToCSFBInMessageBuffer" buffer="buffers/SendToCSFBInBuffer">
							<SocketAdapter id="socket_adapter7002" port="7002" ackTimeout="0" alwaysUseMsgId="false" ></SocketAdapter>
						</ListenerMessageBuffer>
						<SampleMessageListener/>
					</ListenerMessageProcessors>
				</SessionManager>
			</Party>

			<Party compid="Bernstein">
				<Session fixversion="4.2" heartbeat="80" compid="SendToBern">
					<Persister>
						<LimitedMemoryFilePersister baselogfile="logs/buy"/>
					</Persister>
				</Session>
				<Connections>
					<SocketConnection hostname="localhost" port="2003" />
				</Connections>
				<SessionManager>
					<SourceMessageProcessors>
						<SourceMessageBuffer id="SendToBernOutMessageBuffer" buffer="buffers/SendToBernOutBuffer">
							<SocketAdapter id="socket_adapter7003" port="7003" ackTimeout="0" alwaysUseMsgId="false" ></SocketAdapter>
						</SourceMessageBuffer>
					</SourceMessageProcessors>
					<ListenerMessageProcessors>
						<ListenerMessageBuffer id="SendToBernInMessageBuffer" buffer="buffers/SendToBernInBuffer">
							<SocketAdapter id="socket_adapter7003" port="7003" ackTimeout="0" alwaysUseMsgId="false" ></SocketAdapter>
						</ListenerMessageBuffer>
						<SampleMessageListener/>
					</ListenerMessageProcessors>
				</SessionManager>
			</Party>

		</Parties>
	</Application>
	<Application id="sell" rmiName="sell">
		<Parties>


			<Party compid="SendToDropCopy">
				<Session fixversion="4.2" heartbeat="80" compid="DropCopy">
					<Persister>
						<LimitedMemoryFilePersister baselogfile="logs/buy"/>
					</Persister>
				</Session>
				<Connections>
					<SocketConnection hostname="localhost" port="2006" />
				</Connections>
				<SessionManager>
					<SourceMessageProcessors>
						<SourceMessageBuffer id="SentToDropCopy1OutMessageBuffer" buffer="buffers/SentToDropCopy1OutBuffer">
							<SocketAdapter id="socket_adapter7006" port="7006" ackTimeout="0" alwaysUseMsgId="false" ></SocketAdapter>
						</SourceMessageBuffer>
					</SourceMessageProcessors>
					<ListenerMessageProcessors>
						<ListenerMessageBuffer id="SentToDropCopy1InMessageBuffer" buffer="buffers/SentToDropCopy1InBuffer">
							<SocketAdapter id="socket_adapter7006" port="7006" ackTimeout="0" alwaysUseMsgId="false" ></SocketAdapter>
						</ListenerMessageBuffer>
						<SampleMessageListener/>
					</ListenerMessageProcessors>
				</SessionManager>
			</Party>

			<Party compid="SendToBern">

				<Session fixversion="4.2" heartbeat="30" compid="Bernstein">
					<Persister>
						<LimitedMemoryFilePersister baselogfile="logs/sn_server"/>
					</Persister>
				</Session>

				<Connections>
					<SocketConnection listenport="2003"/>
				</Connections>

				<SessionManager>
					<SourceMessageProcessors>
						<SourceMessageBuffer id="BernsteinOutMessageBuffer" buffer="buffers/BernsteinOutBuffer">
							<SellSideOMS id="Bernstein" file.name="logs/sell.oms"/>
						</SourceMessageBuffer>
					</SourceMessageProcessors>
					<ListenerMessageProcessors>
						<ListenerMessageBuffer id="BernsteinInMessageBuffer" buffer="buffers/BernsteininBuffer">
							<SellSideOMS id="Bernstein" file.name="logs/sell.oms"/>
						</ListenerMessageBuffer>
					</ListenerMessageProcessors>
				</SessionManager>

			</Party>

			<Party compid="SendToCSFB">

				<Session fixversion="4.2" heartbeat="30" compid="CSFB">
					<Persister>
						<LimitedMemoryFilePersister baselogfile="logs/sn_server"/>
					</Persister>
				</Session>

				<Connections>
					<SocketConnection listenport="2002"/>
				</Connections>

				<SessionManager>
					<SourceMessageProcessors>
						<SourceMessageBuffer id="CSFBOutMessageBuffer" buffer="buffers/CSFBOutBuffer">
							<SellSideOMS id="CSFB" file.name="logs/sell.oms"/>
						</SourceMessageBuffer>
					</SourceMessageProcessors>
					<ListenerMessageProcessors>
						<ListenerMessageBuffer id="CSFBInMessageBuffer" buffer="buffers/CSFBInBuffer">
							<SellSideOMS id="CSFB" file.name="logs/sell.oms"/>
						</ListenerMessageBuffer>
					</ListenerMessageProcessors>
				</SessionManager>

			</Party>

			<Party compid="SendToGS">

				<Session fixversion="4.2" heartbeat="30" compid="GS">
					<Persister>
						<LimitedMemoryFilePersister baselogfile="logs/sn_server"/>
					</Persister>
				</Session>

				<Connections>
					<SocketConnection listenport="2001"/>
				</Connections>

				<SessionManager>
					<SourceMessageProcessors>
						<SourceMessageBuffer id="GSOutMessageBuffer" buffer="buffers/GSOutBuffer">
							<SellSideOMS id="GS" file.name="logs/sell.oms"/>
						</SourceMessageBuffer>
					</SourceMessageProcessors>
					<ListenerMessageProcessors>
						<ListenerMessageBuffer id="GSInMessageBuffer" buffer="buffers/GSInBuffer">
							<SellSideOMS id="GS" file.name="logs/sell.oms"/>
						</ListenerMessageBuffer>
					</ListenerMessageProcessors>
				</SessionManager>

			</Party>

			<Party compid="SendToMS">

				<Session fixversion="4.2" heartbeat="30" compid="MS">
					<Persister>
						<LimitedMemoryFilePersister baselogfile="logs/sn_server"/>
					</Persister>
				</Session>

				<Connections>
					<SocketConnection listenport="2000"/>
				</Connections>

				<SessionManager>
					<SourceMessageProcessors>
						<SourceMessageBuffer id="MSOutMessageBuffer" buffer="buffers/MSOutBuffer">
							<SellSideOMS id="MS" file.name="logs/sell.oms"/>
						</SourceMessageBuffer>
					</SourceMessageProcessors>
					<ListenerMessageProcessors>
						<ListenerMessageBuffer id="MSInMessageBuffer" buffer="buffers/MSInBuffer">
							<SellSideOMS id="MS" file.name="logs/sell.oms"/>
						</ListenerMessageBuffer>
					</ListenerMessageProcessors>
				</SessionManager>

			</Party>

		</Parties>
	</Application>
</Config>