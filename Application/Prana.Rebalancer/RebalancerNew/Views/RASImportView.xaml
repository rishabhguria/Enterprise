<Window x:Name="RASImportWindow"
        x:Class="Prana.Rebalancer.RebalancerNew.Views.RASImportView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:shell="http://schemas.microsoft.com/winfx/2006/xaml/presentation/shell"
        xmlns:themes="http://infragistics.com/Themes"
        xmlns:igDP="http://infragistics.com/DataPresenter"
        xmlns:igEditors="http://infragistics.com/Editors"
        xmlns:igWPF="http://schemas.infragistics.com/xaml/wpf"
        xmlns:ig="http://infragistics.com/DataPresenter"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:customChromeLibrary="clr-namespace:Prana.CustomChromeLibrary;assembly=Prana.CustomChromeLibrary" xmlns:behaviours="clr-namespace:Prana.Rebalancer.RebalancerNew.Behaviours" xmlns:igExcelExporter="http://infragistics.com/ExcelExporter"
        mc:Ignorable="d" 
        MinHeight="350"
        MinWidth="800">

    <shell:WindowChrome.WindowChrome>
        <shell:WindowChrome ResizeBorderThickness="5" CaptionHeight="22" CornerRadius="5" GlassFrameThickness="0"/>
    </shell:WindowChrome.WindowChrome>
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Prana.Rebalancer;component/RebalancerNew/Themes/NirvanaSkin.xaml" />
                <ResourceDictionary Source="/Prana.Rebalancer;component/RebalancerNew/Themes/RebalancerTheme.xaml" />
                <themes:ResourceWasher WashMode="HueSaturationReplacement" WashColor="#FF6D6D6D">
                    <themes:ResourceWasher.SourceDictionary>
                        <ResourceDictionary Source="/Prana.Rebalancer;component/RebalancerNew/Themes/IG/IG.xamComboEditor.xaml" />
                    </themes:ResourceWasher.SourceDictionary>
                </themes:ResourceWasher>
                <themes:ResourceWasher WashMode="HueSaturationReplacement">
                    <themes:ResourceWasher.SourceDictionary>
                        <ResourceDictionary Source="/Prana.Rebalancer;component/RebalancerNew/Themes/IG/DataPresenterIGTheme_Express.xaml" />
                    </themes:ResourceWasher.SourceDictionary>
                </themes:ResourceWasher>
            </ResourceDictionary.MergedDictionaries>
            <igExcelExporter:DataPresenterExcelExporter x:Key="Exporter"/>
            <Style x:Key="ButtonStyle" TargetType="{x:Type Button}">
                <Setter Property="Template" Value="{DynamicResource ButtonControlTemplate}"/>
                <Setter Property="Width" Value="75"/>
                <Setter Property="Height" Value="20"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Margin" Value="20,10,0,0"/>
            </Style>
            <Style TargetType="{x:Type igDP:CellValuePresenter}" x:Key="CellBackgroundImage">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type igDP:CellValuePresenter}">
                            <Image Width="15" Height="15" Margin="0,0,0,2" Source="..\..\RebalancerNew\Resources\Images\error.png" ToolTip="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type igDP:DataRecordCellArea}},Path=Record.DataItem.Remove}">
                                <Image.Style>
                                    <Style>
                                        <Setter Property="Image.IsEnabled" Value="True"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type igDP:DataRecordCellArea}},Path=Record.DataItem.IsModelValid}" Value="False">
                                                <Setter Property="Image.Visibility" Value="Visible"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type igDP:DataRecordCellArea}},Path=Record.DataItem.IsModelValid}" Value="True">
                                                <Setter Property="Image.Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Image.Style>
                            </Image>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <DataTemplate x:Key="NumberStringFieldDisplayTemplate">
                <TextBlock Text="{Binding Path=(igWPF:TemplateEditor.Editor).Value,Mode=OneWay, RelativeSource={RelativeSource Self}, UpdateSourceTrigger=PropertyChanged}"
                   HorizontalAlignment="Right" Padding="0,0,5,0" Style="{StaticResource GridTextBlockStyle}"/>
            </DataTemplate>
            <DataTemplate x:Key="StringFieldDisplayTemplate">
                <TextBlock Text="{Binding Path=(igWPF:TemplateEditor.Editor).Value,Mode=OneWay, RelativeSource={RelativeSource Self}, UpdateSourceTrigger=PropertyChanged}"
                   HorizontalAlignment="Left" Padding="5,0,5,0" Style="{StaticResource GridTextBlockStyle}"/>
            </DataTemplate>
            <DataTemplate x:Key="EditableDisplayTemplateForTarget">
                <Border>
                    <igEditors:XamNumericEditor Value="{igEditors:TemplateEditorValueBinding}" EditModeStarted="XamNumericEditor_EditModeStarted" Height="30" Format="#,##0.00" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                        <igEditors:XamNumericEditor.Style>
                            <Style>
                                <Setter Property="igEditors:XamNumericEditor.IsEnabled" Value="True"/>
                                <Setter Property="igEditors:XamNumericEditor.Mask" Value="{}{double:-16.16}" />
                                <Setter Property="igEditors:XamNumericEditor.TrimFractionalZeros" Value="True" />
                                <Setter Property="igEditors:XamNumericEditor.PromptChar" Value="" />
                                <Setter Property="igEditors:XamNumericEditor.Background" Value="White"/>
                                <Setter Property="igEditors:XamNumericEditor.VerticalContentAlignment" Value="Center"/>
                                <Setter Property="igEditors:XamNumericEditor.Foreground" Value="Black"/>
                            </Style>
                        </igEditors:XamNumericEditor.Style>
                    </igEditors:XamNumericEditor>
                </Border>
            </DataTemplate>
            <DataTemplate x:Key="EditableDisplayTemplateForFx">
                <Border>
                    <igEditors:XamNumericEditor Value="{igEditors:TemplateEditorValueBinding}" EditModeStarted="XamNumericEditor_EditModeStarted" Height="30" Format="#,0.00" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                        <igEditors:XamNumericEditor.Style>
                            <Style>
                                <Setter Property="igEditors:XamNumericEditor.IsEnabled" Value="True"/>
                                <Setter Property="igEditors:XamNumericEditor.Mask" Value="{}{double:-16.16}" />
                                <Setter Property="igEditors:XamNumericEditor.TrimFractionalZeros" Value="True" />
                                <Setter Property="igEditors:XamNumericEditor.PromptChar" Value="" />
                                <Setter Property="igEditors:XamNumericEditor.Background" Value="White"/>
                                <Setter Property="igEditors:XamNumericEditor.VerticalContentAlignment" Value="Center"/>
                            </Style>
                        </igEditors:XamNumericEditor.Style>
                    </igEditors:XamNumericEditor>
                </Border>
            </DataTemplate>
            <DataTemplate x:Key="EditableDisplayTemplateForPriceLocal">
                <Border>
                    <igEditors:XamNumericEditor Value="{igEditors:TemplateEditorValueBinding}" EditModeStarted="XamNumericEditor_EditModeStarted" Height="30"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                        <igEditors:XamNumericEditor.Style>
                            <Style>
                                <Setter Property="igEditors:XamNumericEditor.IsEnabled" Value="True"/>
                                <Setter Property="igEditors:XamNumericEditor.Mask" Value="{}{double:-16.16}" />
                                <Setter Property="igEditors:XamNumericEditor.Format" Value="#,0.00"/>
                                <Setter Property="igEditors:XamNumericEditor.TrimFractionalZeros" Value="True" />
                                <Setter Property="igEditors:XamNumericEditor.PromptChar" Value="" />
                                <Setter Property="igEditors:XamNumericEditor.Background" Value="White"/>
                                <Setter Property="igEditors:XamNumericEditor.VerticalContentAlignment" Value="Center"/>
                            </Style>
                        </igEditors:XamNumericEditor.Style>
                    </igEditors:XamNumericEditor>
                </Border>
            </DataTemplate>
        </ResourceDictionary>
    </Window.Resources>

    <Border CornerRadius="2" Grid.RowSpan="2" BorderThickness="5" BorderBrush="#FF212C39" Background="#FFD1D2D4">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0">
                <Border CornerRadius="0" BorderThickness="1" BorderBrush="#FF212C39" Background="#FF212C39">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                        <TextBlock Height="22" Margin="5,0,0,0" Foreground="#FFD1D2D4" VerticalAlignment="Center">
                            <TextBlock.Style>
                                <Style TargetType="{x:Type TextBlock}">
                                    <Setter Property="FontSize" Value="15"/>
                                    <Setter Property="Text" Value="Nirvāna"/>
                                    <Setter Property="FontFamily" Value="Mulish"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=RASImportWindow, Path=WindowState}" Value="Minimized">
                                            <Setter Property="FontSize" Value="12"/>
                                            <Setter Property="Text" Value="Import Status"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </StackPanel>
                </Border>

                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right">
                    <TextBlock Text="Import Status" Height="22" FontSize="15" Foreground="#FF8ABB54" VerticalAlignment="Center" HorizontalAlignment="Center">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=RASImportWindow, Path=WindowState}" Value="Minimized">
                                        <Setter Property="Text" Value=""/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <customChromeLibrary:CaptionButtons VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="1" Background="#FFD1D2D4" VerticalAlignment="Stretch">
                <Grid.RowDefinitions>
                    <RowDefinition>
                        <RowDefinition.Style>
                            <Style>
                                <Setter Property="RowDefinition.Height" Value="*"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=InvalidSecurities, Path=Records.Count}" Value="0">
                                        <Setter Property="RowDefinition.Height" Value="Auto"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </RowDefinition.Style>
                    </RowDefinition>
                    <RowDefinition Height="10"/>
                    <RowDefinition>
                        <RowDefinition.Style>
                            <Style>
                                <Setter Property="RowDefinition.Height" Value="*"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=ValidSecurities, Path=Records.Count}" Value="0">
                                        <Setter Property="RowDefinition.Height" Value="Auto"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </RowDefinition.Style>
                    </RowDefinition>
                </Grid.RowDefinitions>

                <Grid Grid.Row="0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Label x:Name="lblInvalidSecuritiesCount" Grid.Row="0" FontSize="15" Content="{Binding Path=InvalidSecuritiesList.Count, Mode=OneWay, UpdateSourceTrigger=Default}" FontWeight="DemiBold" Background="#3A4E6C" Foreground="WhiteSmoke" ContentStringFormat="Symbol Validation : Failed ({0} items)"/>
                        <ig:XamDataGrid Grid.Row="1" Name="InvalidSecurities" ScrollingMode="Deferred" Visibility="Visible" GroupByAreaLocation="None" BorderThickness="1" DataSource="{Binding InvalidSecuritiesList}">
                            <ig:XamDataGrid.Resources>
                                <Style TargetType="{x:Type igWPF:DataRecordPresenter}" BasedOn="{StaticResource DataRecordPresenterStyle}"/>
                                <Style TargetType="{x:Type ig:SummaryResultPresenter}" BasedOn="{StaticResource SummaryResultPresenterStyleForGrid}"/>
                                <Style TargetType="{x:Type ig:DataRecordCellArea}" x:Key="DataRecordCellAreaStyle" BasedOn="{StaticResource DataRecordCellAreaStyleForGrid}"/>
                                <Style TargetType="{x:Type igWPF:GroupBySummariesPresenter}" BasedOn="{StaticResource GroupBySummariesPresenterStyleForGrid}"/>
                                <Style TargetType="{x:Type igWPF:GroupByRecordPresenter}" BasedOn="{StaticResource GroupByRecordPresenterStyleForGrid}"/>
                                <Style TargetType="{x:Type igWPF:RecordSelector}" BasedOn="{StaticResource RecordSelectorStyle}" />
                                <Style TargetType="{x:Type igWPF:LabelPresenter}" BasedOn="{StaticResource LabelPresenterStyle}"/>
                                <Style TargetType="{x:Type ig:CellValuePresenter}" BasedOn="{StaticResource CellValuePresenterStyleForGrid}"/>
                                <Style TargetType="{x:Type igDP:DataRecordCellArea}">
                                    <Setter Property="Background" Value="#f8f4f4"/>
                                    <Setter Property="BorderBrush" Value="Black"/>
                                    <Setter Property="BorderThickness" Value="0,0,0,1.2"/>
                                    <Setter Property="BackgroundActive" Value="#403C44"/>
                                    <Setter Property="CornerRadius" Value="0"/>
                                </Style>
                            </ig:XamDataGrid.Resources>
                            <i:Interaction.Behaviors>
                                <behaviours:XamDataGridExporterForRebalancer ExportFilePath="{Binding ExportFilePathForAutomation}" ExportGridData= "{Binding ExportInvalidSecuritiesGridForAutomation}" ExporterResource="{StaticResource Exporter}"/>
                            </i:Interaction.Behaviors>
                            <ig:XamDataGrid.FieldLayoutSettings>
                                <ig:FieldLayoutSettings AllowFieldMoving="No" AllowClipboardOperations="Copy" AutoGenerateFields="False" HighlightAlternateRecords="False" RecordSelectorLocation="None"/>
                            </ig:XamDataGrid.FieldLayoutSettings>
                            <ig:XamDataGrid.FieldLayouts>
                                <ig:FieldLayout>
                                    <ig:TemplateField Label="Symbol" Name="Symbol" AllowResize="False" Width="25*" Height="33" DisplayTemplate="{StaticResource StringFieldDisplayTemplate}" AllowSorting="False"/>
                                    <ig:TemplateField Label="+/-/=" Name="IncreaseDecreaseOrSet" AllowResize="False" Width="10*" AllowEdit="False" DisplayTemplate="{StaticResource StringFieldDisplayTemplate}" AllowSorting="False"/>
                                    <ig:TemplateField Label="BPS/%" Name="BPSOrPercentage" AllowResize="False" ToolTip="BPS/%" Width="10*" DisplayTemplate="{StaticResource StringFieldDisplayTemplate}" AllowSorting="False"/>
                                    <ig:TemplateField Label="Target" Name="Target" AllowResize="False" ToolTip="Target" AllowEdit="True" Width="10*" DisplayTemplate="{StaticResource NumberStringFieldDisplayTemplate}" AllowSorting="False"/>
                                    <ig:TemplateField Label="Price" Name="Price" AllowResize="False" AllowEdit="False" ToolTip="Price" Width="10*" DisplayTemplate="{StaticResource NumberStringFieldDisplayTemplate}" AllowSorting="False"/>
                                    <ig:TemplateField Label="Fx" Name="FXRate" AllowResize="False" AllowEdit="False" ToolTip="Fx"  Width="10*" DisplayTemplate="{StaticResource NumberStringFieldDisplayTemplate}" AllowSorting="False"/>
                                    <ig:TemplateField Label="AccountOrGroup" AllowResize="False" Name="AccountOrGroupName" Width="25*" DisplayTemplate="{StaticResource StringFieldDisplayTemplate}" AllowSorting="False"/>
                                </ig:FieldLayout>
                            </ig:XamDataGrid.FieldLayouts>
                        </ig:XamDataGrid>
                    </Grid>
                </Grid>

                <GridSplitter Grid.Row="1" BorderThickness="2" HorizontalAlignment="Stretch" Background="#202C38"/>

                <Grid Grid.Row="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Label Grid.Row="0" FontSize="15" Content="{Binding Path=ValidSecuritiesList.Count, Mode=OneWay, UpdateSourceTrigger=Default}" FontWeight="DemiBold" Background="#3A4E6C" Foreground="WhiteSmoke" ContentStringFormat="Symbol Validation : Passed ({0} items)"/>
                    <ig:XamDataGrid Grid.Row="1" Name="ValidSecurities" ScrollingMode="Deferred" GroupByAreaLocation="None" BorderThickness="1" DataSource="{Binding ValidSecuritiesList}">
                        <ig:XamDataGrid.Resources>
                            <Style TargetType="{x:Type igWPF:DataRecordPresenter}" BasedOn="{StaticResource DataRecordPresenterStyle}"/>
                            <Style TargetType="{x:Type ig:SummaryResultPresenter}" BasedOn="{StaticResource SummaryResultPresenterStyleForGrid}"/>
                            <Style TargetType="{x:Type ig:DataRecordCellArea}" x:Key="DataRecordCellAreaStyle" BasedOn="{StaticResource DataRecordCellAreaStyleForGrid}"/>
                            <Style TargetType="{x:Type igWPF:GroupBySummariesPresenter}" BasedOn="{StaticResource GroupBySummariesPresenterStyleForGrid}"/>
                            <Style TargetType="{x:Type igWPF:GroupByRecordPresenter}" BasedOn="{StaticResource GroupByRecordPresenterStyleForGrid}"/>
                            <Style TargetType="{x:Type igWPF:RecordSelector}" BasedOn="{StaticResource RecordSelectorStyle}" />
                            <Style TargetType="{x:Type igWPF:LabelPresenter}" BasedOn="{StaticResource LabelPresenterStyle}"/>
                            <Style TargetType="{x:Type ig:CellValuePresenter}" BasedOn="{StaticResource CellValuePresenterStyleForGrid}"/>
                            <Style TargetType="{x:Type igDP:DataRecordCellArea}">
                                <Setter Property="Background" Value="#f8f4f4"/>
                                <Setter Property="BorderBrush" Value="Black"/>
                                <Setter Property="BorderThickness" Value="0,0,0,1"/>
                                <Setter Property="BackgroundActive" Value="#403C44"/>
                                <Setter Property="CornerRadius" Value="0"/>
                            </Style>
                        </ig:XamDataGrid.Resources>
                        <ig:XamDataGrid.FieldLayoutSettings>
                            <ig:FieldLayoutSettings AllowFieldMoving="No" AllowClipboardOperations="Copy" AutoGenerateFields="False" HighlightAlternateRecords="False" RecordSelectorLocation="None"/>
                        </ig:XamDataGrid.FieldLayoutSettings>
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="EditModeEnded">
                                <i:InvokeCommandAction Command="{Binding RevalidateEditableCellCommand}" PassEventArgsToCommand="True" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <i:Interaction.Behaviors>
                            <behaviours:XamDataGridExporterForRebalancer ExportFilePath="{Binding ExportFilePathForAutomation}" ExportGridData= "{Binding ExportValidSecuritiesGridForAutomation}" ExporterResource="{StaticResource Exporter}"/>
                        </i:Interaction.Behaviors>
                        <ig:XamDataGrid.FieldLayouts>
                            <ig:FieldLayout>
                                <ig:Field Label="" Name="Remove" AllowResize="False" Width="3*" Height="33" CellValuePresenterStyle="{StaticResource CellBackgroundImage}" AllowSorting="False"/>
                                <ig:TemplateField Label="SEDOL" Name="SEDOLSymbol" AllowResize="False" Width="22*" DisplayTemplate="{StaticResource StringFieldDisplayTemplate}" AllowSorting="False"/>
                                <ig:TemplateField Label="Symbol" Name="Symbol" AllowResize="False" Width="22*" DisplayTemplate="{StaticResource StringFieldDisplayTemplate}" AllowSorting="False"/>
                                <ig:TemplateField Label="+/-/=" Name="IncreaseDecreaseOrSet" AllowResize="False" Width="10*" AllowEdit="True" DisplayTemplate="{StaticResource StringFieldDisplayTemplate}" AllowSorting="False"/>
                                <ig:TemplateField Label="BPS/%" Name="BPSOrPercentage" AllowResize="False" ToolTip="BPS/%" Width="10*" DisplayTemplate="{StaticResource StringFieldDisplayTemplate}" AllowSorting="False"/>
                                <ig:TemplateField Label="Target" Name="Target" AllowResize="False" ToolTip="Target" AllowEdit="True" Width="10*" DisplayTemplate="{StaticResource EditableDisplayTemplateForTarget}" AllowSorting="False"/>
                                <ig:TemplateField Label="Price" Name="Price" AllowResize="False" AllowEdit="True" ToolTip="Price" Width="10*" DisplayTemplate="{StaticResource EditableDisplayTemplateForPriceLocal}" EditTemplate="{StaticResource EditableDisplayTemplateForPriceLocal}" AllowSorting="False"/>
                                <ig:TemplateField Label="Fx" Name="FXRate" AllowResize="False" AllowEdit="True" ToolTip="Fx"  Width="10*" DisplayTemplate="{StaticResource EditableDisplayTemplateForFx}" EditTemplate="{StaticResource EditableDisplayTemplateForFx}" AllowSorting="False"/>
                                <ig:Field Label="AccountOrGroup" AllowResize="False" Name="AccountOrGroupName" Width="25*" VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch" AllowSorting="False" >
                                    <ig:Field.Settings>
                                        <ig:FieldSettings>
                                            <ig:FieldSettings.EditorStyle>
                                                <Style TargetType="{x:Type igEditors:XamComboEditor}">
                                                    <Setter Property="ItemsSource" Value="{Binding DataContext.AccountsList, RelativeSource={RelativeSource AncestorType=Window}}"/>
                                                    <Setter Property="IsEditable" Value="False"/>
                                                    <Setter Property="Height" Value="30"/>
                                                    <Setter Property="Width" Value="Auto"/>
                                                    <Setter Property="DropDownResizeMode" Value="None"/>
                                                    <Setter Property="Background" Value="White" />
                                                </Style>
                                            </ig:FieldSettings.EditorStyle>
                                        </ig:FieldSettings>
                                    </ig:Field.Settings>
                                </ig:Field>
                            </ig:FieldLayout>
                        </ig:XamDataGrid.FieldLayouts>
                    </ig:XamDataGrid>
                </Grid>
            </Grid>

            <StackPanel Grid.Row="2" Margin="0,0,15,10" Orientation="Horizontal" HorizontalAlignment="Center">
                <Button x:Name="btnContinue" Content="Continue" Height="22" Width="80" Command="{Binding ContinueCommand}" Style="{StaticResource ButtonStyle}" VerticalAlignment="Bottom"/>
                <Button x:Name="btnAbort" Content="Abort" Height="22" Width="80" Command="{Binding AbortCommand}" Template="{DynamicResource RedButtonSkinTemplate}" Style="{StaticResource ButtonStyle}" VerticalAlignment="Bottom"/>
                <Button x:Name="btnSecurityMaster" Content="Security Master" Height="22" Width="100" Command="{Binding SecurityMasterCommand}" Template="{DynamicResource GreenButtonSkinTemplate}" Style="{StaticResource ButtonStyle}" VerticalAlignment="Bottom"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>