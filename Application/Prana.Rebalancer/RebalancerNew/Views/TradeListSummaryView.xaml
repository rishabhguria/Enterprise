<Window x:Class="Prana.Rebalancer.RebalancerNew.Views.TradeListSummaryView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:igDP="http://infragistics.com/DataPresenter"
             mc:Ignorable="d" 
             xmlns:themes="http://infragistics.com/Themes"
             xmlns:customChromeLibrary="clr-namespace:Prana.CustomChromeLibrary;assembly=Prana.CustomChromeLibrary"
             xmlns:shell="http://schemas.microsoft.com/winfx/2006/xaml/presentation/shell"
             xmlns:ig="http://infragistics.com/DataPresenter"
             xmlns:igWPF="http://schemas.infragistics.com/xaml/wpf"
             xmlns:converters="clr-namespace:Prana.Rebalancer.Converters"
             Width="400"
             Height="430"
             ResizeMode="NoResize"
        	 Background="#FFD1D2D4"
             WindowStartupLocation="CenterScreen"
             x:Name="TradeBuySellListSummaryView">
    <shell:WindowChrome.WindowChrome>
        <shell:WindowChrome
            ResizeBorderThickness="5"
            CaptionHeight="22"
            CornerRadius="5"
            GlassFrameThickness="0"/>
    </shell:WindowChrome.WindowChrome>
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Prana.Rebalancer;component/RebalancerNew/Themes/NirvanaSkin.xaml" />
                <ResourceDictionary Source="/Prana.Rebalancer;component/RebalancerNew/Themes/RebalancerTheme.xaml" />
                <themes:ResourceWasher WashMode="HueSaturationReplacement" WashColor="#FF6D6D6D">
                    <themes:ResourceWasher.SourceDictionary>
                        <ResourceDictionary Source="/Prana.Rebalancer;component/RebalancerNew/Themes/IG/IG.xamComboEditor.xaml" />
                    </themes:ResourceWasher.SourceDictionary>
                </themes:ResourceWasher>
                <themes:ResourceWasher WashMode="HueSaturationReplacement">
                    <themes:ResourceWasher.SourceDictionary>
                        <ResourceDictionary Source="/Prana.Rebalancer;component/RebalancerNew/Themes/IG/DataPresenterIGTheme_Express.xaml" />
                    </themes:ResourceWasher.SourceDictionary>
                </themes:ResourceWasher>
            </ResourceDictionary.MergedDictionaries>
            <DataTemplate x:Key="StringFieldDisplayTemplate">
                <TextBlock Text="{Binding Path=(igWPF:TemplateEditor.Editor).Value,Mode=OneWay, RelativeSource={RelativeSource Self}, UpdateSourceTrigger=PropertyChanged}"
                               HorizontalAlignment="Left" Padding="5,0,5,0">
                    <TextBlock.Style>
                        <Style>
                            <Setter Property="TextBlock.Foreground" Value="Black"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type igDP:DataRecordCellArea}},Path=Record.IsActive}" Value="True">
                                    <Setter Property="TextBlock.Foreground" Value="White"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </DataTemplate>
            <DataTemplate x:Key="BuySellValueAndQuantityDisplayTemplate">
                <TextBlock Text="{Binding Path=(igWPF:TemplateEditor.Editor).Value,Mode=OneWay, RelativeSource={RelativeSource Self},StringFormat={}{0:#\,0}}"
                           HorizontalAlignment="Right" Padding="0,0,0,0" >
                    <TextBlock.Style>
                        <Style>
                            <Setter Property="TextBlock.Foreground" Value="Black"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type igDP:DataRecordCellArea}},Path=Record.IsActive}" Value="True">
                                    <Setter Property="TextBlock.Foreground" Value="White"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </DataTemplate>
            <DataTemplate x:Key="StringFieldDisplayTemplateForSymbolCount">
                <TextBlock Text="{Binding Path=(igWPF:TemplateEditor.Editor).Value,Mode=OneWay, RelativeSource={RelativeSource Self}, UpdateSourceTrigger=PropertyChanged}"
                               HorizontalAlignment="Right" Padding="5,0,5,0">
                    <TextBlock.Style>
                        <Style>
                            <Setter Property="TextBlock.Foreground" Value="Black"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type igDP:DataRecordCellArea}},Path=Record.IsActive}" Value="True">
                                    <Setter Property="TextBlock.Foreground" Value="White"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </DataTemplate>
            <Style x:Key="ButtonStyle" TargetType="{x:Type Button}">
                <Setter Property="Template" Value="{DynamicResource ButtonControlTemplate}"/>
                <Setter Property="Width" Value="75"/>
                <Setter Property="Height" Value="20"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Margin" Value="20,10,0,0"/>
            </Style>
            <converters:FieldNameConverter x:Key="FieldNameConverter"/>
            <Style TargetType="{x:Type igDP:SummaryResultPresenter}">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding Converter={StaticResource FieldNameConverter}}" Value="Side">
                        <Setter Property="TextBlock.FontWeight" Value="Bold" />
                        <Setter Property="TextBlock.TextAlignment" Value="Left"/>
                        <Setter Property="TextBlock.FontSize" Value="13"/>
                        <Setter Property="FontFamily" Value="Tahoma" />
                        <Setter Property="Margin" Value="5, 0, 0, 0"/>
                    </DataTrigger>
                    <DataTrigger Binding="{Binding Converter={StaticResource FieldNameConverter}}" Value="BuySellValue">
                        <Setter Property="TextBlock.FontWeight" Value="Bold" />
                        <Setter Property="TextBlock.TextAlignment" Value="Right"/>
                        <Setter Property="TextBlock.FontSize" Value="13"/>
                        <Setter Property="FontFamily" Value="Tahoma" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
        </ResourceDictionary>
    </Window.Resources>
    <Border CornerRadius="2" BorderThickness="4" BorderBrush="#FF212C39" Background="Transparent">
        <Grid Background="#FFD1D2D4">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Border CornerRadius="2" BorderThickness="5" BorderBrush="#FF212C39" Background="#FFD1D2D4"/>
                <Border CornerRadius="0" Grid.Row="0" BorderThickness="1" BorderBrush="#FF212C39" Background="#FF212C39">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top">
                        <TextBlock x:Name="tbNirvana" Text="Nirvāna" FontFamily="Mulish" Margin="5,0,0,0" FontSize="15" Foreground="#FFD1D2D4" VerticalAlignment="Center" />
                    </StackPanel>
                </Border>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right">
                    <TextBlock x:Name="SummaryTextBlock" Text="Trading List Summary" Margin="0, 0, 5, 5" FontSize="14" Foreground="#FF8ABB54" VerticalAlignment="Center" HorizontalAlignment="Center" />
                    <customChromeLibrary:CloseButton VerticalAlignment="Center" />
                </StackPanel>
            </Grid>
            <GroupBox Grid.Row="1" Header=" Summary of the trading list : " Margin="5, 5, 5, 0" FontFamily="Tahoma" FontSize="13" BorderBrush="Black" FontWeight="DemiBold">
                <ig:XamDataGrid Name="TradeListSummary" ScrollingMode="Deferred" Visibility="Visible" GroupByAreaLocation="None" BorderThickness="1" DataSource="{Binding TradeListSummaryList}">
                    <ig:XamDataGrid.Resources>
                        <Style TargetType="{x:Type igWPF:LabelPresenter}" BasedOn="{StaticResource LabelPresenterStyle}"/>
                        <Style TargetType="{x:Type ig:CellValuePresenter}" BasedOn="{StaticResource CellValuePresenterStyleForGrid}"/>
                        <Style TargetType="{x:Type igDP:DataRecordCellArea}">
                            <Setter Property="Background" Value="#f8f4f4"/>
                            <Setter Property="BorderBrush" Value="Black"/>
                            <Setter Property="BorderThickness" Value="0,0,0,1.2"/>
                            <Setter Property="BackgroundActive" Value="#403C44"/>
                            <Setter Property="CornerRadius" Value="0"/>
                            <Setter Property="FontWeight" Value="Normal"/>
                        </Style>
                    </ig:XamDataGrid.Resources>
                    <ig:XamDataGrid.FieldLayoutSettings>
                        <ig:FieldLayoutSettings AllowFieldMoving="No" AllowClipboardOperations="Copy" AutoGenerateFields="False" HighlightAlternateRecords="False" RecordSelectorLocation="None"/>
                    </ig:XamDataGrid.FieldLayoutSettings>
                    <ig:XamDataGrid.FieldLayouts>
                        <ig:FieldLayout>
                            <ig:TemplateField Label="Total Symbols" Name="TotalSymbols" AllowResize="False" Width="*" Height="30" AllowSorting="False" DisplayTemplate="{StaticResource StringFieldDisplayTemplateForSymbolCount}"/>
                            <ig:TemplateField Label="Total abs Qty" Name="TotalQuantity" AllowResize="False" Width="*" Height="30" AllowSorting="False" DisplayTemplate="{StaticResource BuySellValueAndQuantityDisplayTemplate}"/>
                            <ig:TemplateField Label="Total abs Value" Name="TotalBuySellValue" AllowResize="False" Width="*" Height="30" AllowSorting="False" DisplayTemplate="{StaticResource BuySellValueAndQuantityDisplayTemplate}"/>
                        </ig:FieldLayout>
                    </ig:XamDataGrid.FieldLayouts>
                </ig:XamDataGrid>
            </GroupBox>
            <GroupBox Grid.Row="2" Header=" Order Side Summary " Margin="5, 10, 5, 0" FontFamily="Tahoma" FontSize="13" BorderBrush="Black" FontWeight="DemiBold">
                <ig:XamDataGrid Name="TradeListOrderSideSummary" ScrollingMode="Deferred" Visibility="Visible" GroupByAreaLocation="None" BorderThickness="1" DataSource="{Binding TradeListOrderSideSummaryList}">
                    <ig:XamDataGrid.Resources>
                        <Style TargetType="{x:Type igWPF:LabelPresenter}" BasedOn="{StaticResource LabelPresenterStyle}"/>
                        <Style TargetType="{x:Type ig:CellValuePresenter}" BasedOn="{StaticResource CellValuePresenterStyleForGrid}"/>
                        <Style TargetType="{x:Type igDP:DataRecordCellArea}">
                            <Setter Property="Background" Value="#f8f4f4"/>
                            <Setter Property="BorderBrush" Value="Black"/>
                            <Setter Property="BorderThickness" Value="0,0,0,1.2"/>
                            <Setter Property="BackgroundActive" Value="#403C44"/>
                            <Setter Property="CornerRadius" Value="0"/>
                            <Setter Property="FontWeight" Value="Normal"/>
                        </Style>
                    </ig:XamDataGrid.Resources>
                    <ig:XamDataGrid.FieldLayoutSettings>
                        <ig:FieldLayoutSettings AllowFieldMoving="No" AllowClipboardOperations="Copy" AutoGenerateFields="False" HighlightAlternateRecords="False" RecordSelectorLocation="None"/>
                    </ig:XamDataGrid.FieldLayoutSettings>
                    <ig:XamDataGrid.FieldLayouts>
                        <ig:FieldLayout>
                            <ig:TemplateField Label="Order Side" Name="Side" AllowResize="False" Width="*" Height="30" DisplayTemplate="{StaticResource StringFieldDisplayTemplate}" AllowSorting="False"/>
                            <ig:TemplateField Label="Qty" Name="Quantity" AllowResize="False" Width="*" Height="30" DisplayTemplate="{StaticResource BuySellValueAndQuantityDisplayTemplate}" AllowSorting="False"/>
                            <ig:TemplateField Label="Total Value" Name="BuySellValue" AllowResize="False" Width="*" Height="30" DisplayTemplate="{StaticResource BuySellValueAndQuantityDisplayTemplate}" AllowSorting="False"/>
                            <ig:FieldLayout.SummaryDefinitions>
                                <ig:SummaryDefinition SourceFieldName="Side" Key="Symbol" Calculator="StringSummaryCalculator" StringFormat="Net" Position="Left" />
                                <ig:SummaryDefinition SourceFieldName="BuySellValue" Position="Right" Calculator="Sum" Key="BuySellValueSum" StringFormat="{}{0:#,0}"/>
                            </ig:FieldLayout.SummaryDefinitions>
                        </ig:FieldLayout>
                    </ig:XamDataGrid.FieldLayouts>
                </ig:XamDataGrid>
            </GroupBox>
            <StackPanel Grid.Row="3" Margin="0, 10, 0, 15">
                <TextBlock Margin="0, 0, 0, 10" TextAlignment="Center" Foreground="Red" FontStyle="Italic" FontFamily="Tahoma" FontWeight="DemiBold" FontSize="13">
                    **Please check your trade values and quantities before <LineBreak/> sending to staging.**
                </TextBlock>
                <TextBlock TextAlignment="Center" FontFamily="Tahoma" FontWeight="DemiBold" FontSize="13" Text="{Binding CaptionToDisplay}"/>
            </StackPanel>
            
            <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Button x:Name="btnYes" Content="Yes" Height="22" Width="70" Margin="10, 0, 10, 10" Command="{Binding YesCommand}" Style="{StaticResource ButtonStyle}" Template="{DynamicResource GreenButtonSkinTemplate}" VerticalAlignment="Bottom"/>
                <Button x:Name="NoButton" Content="No" Height="22" Width="70" Margin="10, 0, 10, 10" Command="{Binding NoCommand}" Template="{DynamicResource OrangeButtonSkinTemplate}" Style="{StaticResource ButtonStyle}" VerticalAlignment="Bottom"/>
                <Button x:Name="CancelButton" Content="Cancel" Height="22" Width="70" Margin="10, 0, 10, 10" Command="{Binding CancelCommand}" Template="{DynamicResource RedButtonSkinTemplate}" Style="{StaticResource ButtonStyle}" VerticalAlignment="Bottom"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>