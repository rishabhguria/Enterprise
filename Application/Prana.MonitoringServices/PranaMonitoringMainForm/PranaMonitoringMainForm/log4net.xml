<?xml version="1.0" encoding="utf-8" ?>
<log4net>
  <appender name="Console" type="log4net.Appender.ConsoleAppender">
    <layout type="log4net.Layout.PatternLayout">
      <!-- Pattern to output the caller's file name and line number -->
      <conversionPattern value="%5level [%thread] (%file:%line) - %message%newline" />
    </layout>
  </appender>

  <appender name="DevRelease" type="log4net.Appender.SmtpAppender">
    <to value="test.receiver@nirvanasolutions.com" />
    <from value="test.sender@nirvanasolutions.com" />
    <smtpHost value="mail.nirvanasolutions.com" />
    <authentication value="1"/>
    <username value="test.sender@nirvanasolutions.com"/>
    <password value="nirvana"></password>
    <bufferSize value="1" />
    <subject value="Monitoring Services: NirvanaSupport-Alert-DevRelease" />
    <lossy value="true" />

    <!--Fix Session disconnection-->
    <filter type="log4net.Filter.StringMatchFilter">
      <regexToMatch value="Customer Name=DevRelease.*\n.*FixSessions:.*:DISCONNECTED" />
    </filter>
    <!--Epnl disconnected from Trade server-->
    <filter type="log4net.Filter.StringMatchFilter">
      <regexToMatch value="Customer Name=DevRelease.*\n.*Removing ExposureAndPNLCALC1" />
    </filter>
    <!--Some Server down-->
    <filter type="log4net.Filter.StringMatchFilter">
      <regexToMatch value="Customer Name=DevRelease.*\n.*::Disconnected" />
    </filter>
    <!--Epnl disconnected from Pricing Server-->
    <filter type="log4net.Filter.StringMatchFilter">
      <regexToMatch value="Customer Name=DevRelease.*\n.*User:Expnl :Disconnected" />
    </filter>
    <!--Epnl disconnected from Pricing Server-->
    <filter type="log4net.Filter.StringMatchFilter">
      <regexToMatch value="Customer Name=DevRelease.*\n.*::Removing Expnl" />
    </filter>
    <!--Livefeed disconnected-->
    <filter type="log4net.Filter.StringMatchFilter">
      <regexToMatch value="Customer Name=DevRelease.*\n.*Live Feed::Disconnected" />
    </filter>

    <filter type="log4net.Filter.DenyAllFilter" />
    <evaluator type="log4net.Core.LevelEvaluator">
      <threshold value="WARN"/>
    </evaluator>
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%newline%message%newline%newline%newline" />
    </layout>
  </appender>

  <appender name="RollingFile" type="log4net.Appender.RollingFileAppender">
    <file value="log/Log4net.log" />
    <appendToFile value="true" />
    <maximumFileSize value="100KB" />
    <maxSizeRollBackups value="-1" />
    <countDirection value="1"/>
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%date [%thread] %-5level %logger %ndc - %message%newline" />
    </layout>
  </appender>
  <appender name="RollingFile" type="log4net.Appender.RollingFileAppender">
    <file value="log/Log4net.log" />
    <appendToFile value="true" />
    <maximumFileSize value="100KB" />
    <maxSizeRollBackups value="-1" />
    <countDirection value="1"/>
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%date [%thread] %-5level %logger %ndc - %message%newline" />
    </layout>
  </appender>

  <root>
    <level value="INFO" />
    <appender-ref ref="Console" />
    <appender-ref ref="RollingFile" />
    <appender-ref ref="DevRelease" />
  </root>
</log4net>
